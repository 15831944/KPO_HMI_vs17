//## Copyright (C) 2010 SMS Siemag AG, Germany 
//## Version generated by DBClassCodeUtility BETA 0.6.3 
//## ALL METHODS MARKED AS - //##DBClassCodeUtility - WILL BE OVERWRITTEN, IF DB CLASS RE-GENERATED 
//## MANUALLY IMPLEMENTED METHODS MUST BE LOCATED BELOW THE MARK - "YOUR-CODE" - 

#if defined (_MSC_VER) && (_MSC_VER >= 1000)
#pragma once
#endif
#ifndef _INC_CPD_RECIPE_INCLUDED
#define _INC_CPD_RECIPE_INCLUDED

#include "SRECIPE.h"
#include "CSMC_DBData.h"

class CPD_RECIPE_ENTRY;
class CGT_MAT;

class CPD_RECIPE
: public CSMC_DBData
{

public:
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string HEATID;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string TREATID;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string PLANT;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string RECIPENAME;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string RECIPENO;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string SOURCE;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string BATCHSTATUSNO;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string CALC_BASIS_NO;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string BATCHSTATUSCHGDATE;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string UPDTIME;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string WEIGHTTOTAL;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string COSTSBATCH;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string BULKVOL;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string ACTOXYGENMOMENT;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string ACT_AR_MOMENT;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string ACT_N2_MOMENT;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string ACT_EGY;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string DURSINCEHEATANNOUNCEMENT;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string DURSINCESTARTOFFHEAT;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string BATCHFEEDSPEED;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string DISCHARGESTARTTIME;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string DISCHARGEENDTIME;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string VOLUME;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string CHARGING_DEST_NAME;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string ACT_O2_MOMENT;
  //##DBClassCodeUtility ! DO NOT EDIT !
  static const std::string CHARGE_MOMENT;

  //##DBClassCodeUtility ! DO NOT EDIT !
  CPD_RECIPE(cCBS_StdConnection* Connection);

  //##DBClassCodeUtility ! DO NOT EDIT !
  CPD_RECIPE(cCBS_Connection* Connection);

  //##DBClassCodeUtility ! DO NOT EDIT !
  CPD_RECIPE();

  //##DBClassCodeUtility ! DO NOT EDIT !
  ~CPD_RECIPE();

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Internal heat identifier
  std::string getHEATID(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setHEATID(const std::string& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Treatment identifier
  std::string getTREATID(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setTREATID(const std::string& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Plant identifier
  std::string getPLANT(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setPLANT(const std::string& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  std::string getRECIPENAME(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setRECIPENAME(const std::string& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  long getRECIPENO(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setRECIPENO(long value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Valid Sources of a Recipe. SOURCE = ALL means all SOURCES for the recipe
  std::string getSOURCE(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setSOURCE(const std::string& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Batch Status number (Number in the L1/L2 Telgramm in the, Material handling report
  long getBATCHSTATUSNO(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setBATCHSTATUSNO(long value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Basis of the related model calculation
  long getCALC_BASIS_NO(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setCALC_BASIS_NO(long value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Date of last status change., Comment:, Weighed time = first Weighed for one recipe
  CDateTime getBATCHSTATUSCHGDATE(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setBATCHSTATUSCHGDATE(const CDateTime& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Date and time of last revision
  CDateTime getUPDTIME(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setUPDTIME(const CDateTime& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  double getWEIGHTTOTAL(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setWEIGHTTOTAL(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Total Cost of the Batch
  double getCOSTSBATCH(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setCOSTSBATCH(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Bulk volume
  double getBULKVOL(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setBULKVOL(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Oxygen Moment, Only for AOD, BOF, Conarc and, Recipe Status, Enable, Processing Start, Weighing Complete, First Material in Charging Hopper, Discharge Start, Weighing Complete, Last Material In Chrging Hopper, Discharged
  double getACTOXYGENMOMENT(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setACTOXYGENMOMENT(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Ar Moment, Only for AOD, BOF, Conarc and, Recipe Status, Enable, Processing Start, Weighing Complete, First Material in Charging Hopper, Discharge Start, Weighing Complete, Last Material In Chrging Hopper, Discharged
  double getACT_AR_MOMENT(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setACT_AR_MOMENT(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##N2 Moment, Only for AOD, BOF, Conarc and, Recipe Status, Enable, Processing Start, Weighing Complete, First Material in Charging Hopper, Discharge Start, Weighing Complete, Last Material In Chrging Hopper, Discharged
  double getACT_N2_MOMENT(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setACT_N2_MOMENT(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Only for EAF/LF, Only for Recipe Status, Recipe Status, Enable, Processing Start, Weighing Complete, First Material in Charging Hopper, Discharge Start, Weighing Complete, Last Material In Chrging Hopper, Discharged
  double getACT_EGY(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setACT_EGY(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Duration since heat announcement
  double getDURSINCEHEATANNOUNCEMENT(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setDURSINCEHEATANNOUNCEMENT(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Duration since start of heat
  double getDURSINCESTARTOFFHEAT(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setDURSINCESTARTOFFHEAT(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Batch Material feed speed., BATCHMATFEEDSPEED=, TOTALBATCHWEIGHT/, Discharged Time Discharge Start Time, Only filled for Status 10!!!
  double getBATCHFEEDSPEED(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setBATCHFEEDSPEED(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Timestamp when Batch status "Discharge Start" has been reached
  CDateTime getDISCHARGESTARTTIME(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setDISCHARGESTARTTIME(const CDateTime& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Timestamp when Batch status "Discharge End" has been reached
  CDateTime getDISCHARGEENDTIME(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setDISCHARGEENDTIME(const CDateTime& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  double getVOLUME(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setVOLUME(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  //##Charging destination name, e.g TapLadle, ladle
  std::string getCHARGING_DEST_NAME(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setCHARGING_DEST_NAME(const std::string& value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  double getACT_O2_MOMENT(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setACT_O2_MOMENT(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  double getCHARGE_MOMENT(long Row);

  //##DBClassCodeUtility ! DO NOT EDIT !
  void setCHARGE_MOMENT(double value);

  //##DBClassCodeUtility ! DO NOT EDIT !
  bool select(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, long RECIPENO, const std::string& SOURCE, long BATCHSTATUSNO);

  //## ----------------------------------END-GENERATED-CODE--------------------- 

  //## ----------------------------------YOUR-CODE------------------------------ 

  bool selectInUse(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, long RECIPENO, const std::string& SOURCE);

  bool selectNotUsedRecipes(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, long RECIPENO, std::vector<std::string> SOURCE_LIST);

  bool selectNotUsedRecipes(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, long RECIPENO, const std::string& SOURCE);

  bool selectOrderdByBatchStatusNo(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, long RECIPENO, bool ASC );

  bool selectOrderdByRecipeName(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, long RECIPENO, const std::string& SOURCE, bool ASC );

  bool selectOrdered(std::string& HeatID, std::string& TreatID, std::string& Plant, long BATCHSTATUSNO, std::string& ORDERBY);

  bool selectPrepared(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, long RECIPENO, const std::string& SOURCE);

  bool copyDataToBatchStatus(const std::string & HeatID, const std::string & TreatID,const std::string & Plant, const std::string & RECIPENAME, long RECIPENO, const std::string & SOURCE, long BATCHSTATUSNO_SOURCE, long BATCHSTATUSNO_AIM, bool Commit, cCBS_ODBC_DBError &Error);

  bool copyDataToFinalBatchStatus(const std::string & HeatID, const std::string & TreatID,const std::string & Plant, const std::string & RECIPENAME, long RECIPENO, const std::string & SOURCE, long BATCHSTATUSNO, bool Commit, cCBS_ODBC_DBError &Error);

  bool checkBatchForCalculatedMaterials(const std::string& HeatID, const std::string& TreatID, const std::string& Plant, sRecipeInfo &SRecipeInfo, seqBatch &SeqBatch);

  bool checkBatchStateChange(const std::string& HeatID, const std::string& TreatID, const std::string& Plant, sRecipeInfo &SRecipeInfo);

  bool cleanRecipeData(const std::string & HeatID, const std::string & TreatID, const std::string & Plant, const std::string & RECIPENAME, long RECIPENO, const std::string & SOURCE, bool Commit, cCBS_ODBC_DBError &Error);

  bool deleteRow(const std::string & HeatID, const std::string & TreatID, const std::string & Plant, const std::string & RECIPENAME, long RECIPENO, const std::string & SOURCE, long BATCHSTATUSNO, bool Commit, cCBS_ODBC_DBError &Error);

  virtual void doOnConstruct();

  virtual void doOnDestruct();

  long getActRecipeNo(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, const std::string& SOURCE);

  double getCostsChargedBatch(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, long PLANTNO, const std::string& PURP_CODE);

  double getMatWeightForChargeDest(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, long PLANTNO, std::vector<std::string> SOURCE_LIST,  const std::string& CHARGING_DEST_NAME);

  double getMatWeightForChargeDestAndPurpose(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, long PLANTNO, std::vector<std::string> SOURCE_LIST, std::vector<std::string> CHARGING_DEST_NAME_LIST, const std::string& PURP_CODE);

  double getMatWeightForChargeDestAndPurpose(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, long PLANTNO, std::vector<std::string> SOURCE_LIST,  const std::string& CHARGING_DEST_NAME, const std::string& PURP_CODE);

  double getMatWeightForPurpose(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, long PLANTNO, const std::string& PURP_CODE);

  bool insertRecipeData(const std::string& HeatID, const std::string& TreatID, const std::string& Plant, sRecipeInfo &SRecipeInfo, sMetTimeStamp &MetTimeStamp, seqBatchPrio &SeqBatchPrio, bool Commit, cCBS_ODBC_DBError &Error);

  bool isRecipeIniUse(const std::string& HEATID, const std::string& TREATID, const std::string& PLANT, const std::string& RECIPENAME, long RECIPENO, const std::string& SOURCE);

  bool removeRecipeData(const std::string & HeatID, const std::string & TreatID, const std::string & Plant, const std::string & RECIPENAME, long RECIPENO, const std::string & SOURCE, long BATCHSTATUSNO, bool Commit, cCBS_ODBC_DBError &Error);

  bool replaceBatch(const std::string& HeatID, const std::string& TreatID, const std::string& Plant, sRecipeInfo &SRecipeInfo, sMetTimeStamp &MetTimeStamp, seqBatch &SeqBatch, bool Commit, cCBS_ODBC_DBError &Error);

  bool setCalculatedFeedingValues(CDateTime & StartTime, CDateTime & EndTime, double WeightTotal);

  double setCalculatedValues(seqBatchPrio &SeqBatchPrio);

  void setGasInfo(double ACT_O2_MOMENT, double ACT_AR_MOMENT, double ACT_N2_MOMENT);

  bool updateGasAndElecData(const std::string& HeatID, const std::string& TreatID, const std::string& Plant, sRecipeInfo &SRecipeInfo, sMetTimeStamp &MetTimeStamp, bool Commit, cCBS_ODBC_DBError &Error);

  bool updateChargeMoment(const std::string& HeatID, const std::string& TreatID, const std::string& Plant, sRecipeInfo &SRecipeInfo, bool Commit, cCBS_ODBC_DBError &Error);

  bool updateRecipeData(const std::string& HeatID, const std::string& TreatID, const std::string& Plant, sRecipeInfo &SRecipeInfo, sMetTimeStamp &MetTimeStamp, seqBatchPrio &SeqBatchPrio, bool Commit, cCBS_ODBC_DBError &Error);

  bool writeBatch(const std::string& HeatID, const std::string& TreatID, const std::string& Plant, sRecipeInfo &SRecipeInfo, sMetTimeStamp &MetTimeStamp, seqBatch &SeqBatch, bool Commit, cCBS_ODBC_DBError &Error);

  bool writeBatchPrio(const std::string& HeatID, const std::string& TreatID,const std::string& Plant, sRecipeInfo &SRecipeInfo, sMetTimeStamp &MetTimeStamp, seqBatchPrio &SeqBatchPrio, bool Commit, cCBS_ODBC_DBError &Error);

  CPD_RECIPE_ENTRY * m_pPD_RECIPE_ENTRY;
  CGT_MAT * m_pGT_MAT;
};

#endif /* _INC_CPD_RECIPE_INCLUDED */
